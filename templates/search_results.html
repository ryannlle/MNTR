{% extends 'base.html' %}

{% block content %}
  <div class="mt-4">
    <h2>Search results</h2>
    {% if query %}
      <p class="text-muted">Results for "<strong>{{ query }}</strong>"</p>
      {% if classes %}
        <h3 class="mt-3">Classes</h3>
        <div class="menu-grid mt-2">
          {% for c in classes %}
            <a class="menu-card" href="{% url 'top_class_detail' c.code %}">
              <div class="menu-title">{{ c.name }}</div>
              <div class="menu-desc">Course code: {{ c.code }}</div>
            </a>
          {% endfor %}
        </div>
      {% endif %}

  {% if mentors %}
      <h3 class="mt-3">Mentors</h3>
        <div class="mentor-g  rid mt-3">
          {% for mentor in mentors %}
            <div class="mentor-card">
              <div class="mentor-avatar" aria-hidden="true">{{ mentor.user.username|slice:":1"|upper }}</div>
              <div class="mentor-meta">
                <div class="mentor-name">{{ mentor.user.username }}</div>
                <div class="mentor-bio">{{ mentor.bio|default:"This is a sample mentor profile." }}</div>
                <div class="mentor-tags mt-2">
                  <div class="tag">Mentor</div>
                  {% if mentor.subjects %}
                    <div class="tag">{{ mentor.subjects }}</div>
                  {% endif %}
                </div>
              </div>
              <div class="mentor-actions">
                <a class="btn btn-outline-primary btn-sm" href="#">Message</a>
                <a class="btn btn-primary btn-sm" href="#">Book</a>
              </div>
            </div>
          {% endfor %}
        </div>
      {% endif %}
      {% if not mentors and not classes %}
        <div class="alert alert-secondary">No results found. Try different keywords.</div>
      {% endif %}
    {% else %}
      <p class="lead">Start typing in the search bar on the home page to look for mentors and resources.</p>
    {% endif %}
  </div>
{% endblock %}
